<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
	<script src="https://highcharts.github.io/export-csv/export-csv.js"></script>
    <script src="https://code.highcharts.com/modules/data.js"></script>

    <script src="https://code.highcharts.com/highcharts-more.js"></script>
</head>
<center>

<figure class="highcharts-figure">
 <div id="Test_Bubble_Chart_Sozialhiflequote_Kantone" style="max-width: 800px; height: 600px"></div>
</figure>
   
</center>
    <script>
		$(document).ready(function() {
        	var chart = {
            	type: 'bubble',
                plotBorderWidth: 1,
        		zoomType: 'xy',
                spacingBottom: 50
            };
            var title = {
                text: 'Bubble Chart Kantone',
                style: {
                    fontSize: '18px'
                },
                align: 'left'
            };
            var subtitle = {
                text: "Sozialhilfequote, Schweiz und Kantone, 2017�, in %",
                style: {
                    fontSize: '12px'
                },
                align: 'left'
            };
            
            var yAxis = {
                gridLineWidth: 0,
                lineWidth:1,
                startOnTick: false,
        		endOnTick: false,
        		title: {
            		text: 'Anzahl Sozialhilfebez�ger'
        		},
        		labels: {
            		format: '{value}'
        		},


            };
			
            var xAxis = {
            	 gridLineWidth: 1,
        			title: {
            			text: 'St�ndige Wohnbev�lkerung'
        			},
        		labels: {
            		format: '{value}'
        		}    
            };   
            
            var plotOptions = {
        		series: {
            		dataLabels: {
                		enabled: true,
                		format: '{point.name}'
            		}
        		}
    		};
            
            var tooltip = {
            	 useHTML: true,
        headerFormat: '<table>',
        pointFormat: '<p><b>{point.country}</b><br>' +
            'St�ndige Wohnbev�lkerung: {point.x} Personen<br>' +
            'Sozialhilfebez�ger: {point.y} Personen<br>' +
            'Sozialhilfequote: {point.z} %</p>',
        followPointer: true
            };
            
            var series = [{

            	data: [
{x:1475183,y:48893,z:3.3,name:'ZH',country:'Z�rich'},
{x:1010845,y:42704,z:4.2,name:'BE',country:'Bern'},
{x:398747,y:10275,z:2.5,name:'LU',country:'Luzern'},
{x:35538,y:471,z:1.3,name:'UR',country:'Uri'},
{x:154574,y:2157,z:1.4,name:'SZ',country:'Schwyz'},
{x:37013,y:431,z:1.2,name:'OW',country:'Obwalden'},
{x:42298,y:390,z:0.9,name:'NW',country:'Nidwalden'},
{x:39598,y:720,z:1.8,name:'GL',country:'Glarus'},
{x:123314,y:2159,z:1.7,name:'ZG',country:'Zug'},
{x:309154,y:7186,z:2.3,name:'FR',country:'Freiburg'},
{x:267053,y:9958,z:3.7,name:'SO',country:'Solothurn'},
{x:188718,y:12078,z:6.3,name:'BS',country:'Basel-Stadt'},
{x:282839,y:8608,z:3,name:'BL',country:'Basel-Landschaft'},
{x:79874,y:2191,z:2.7,name:'SH',country:'Schaffhausen'},
{x:54265,y:1251,z:2.3,name:'AR',country:'Appenzell A.Rh.'},
{x:15813,y:164,z:1,name:'AI',country:'Appenzell I.Rh.'},
{x:496942,y:11263,z:2.2,name:'SG',country:'St.Gallen'},
{x:194768,y:2697,z:1.4,name:'GR',country:'Graub�nden'},
{x:661999,y:15000,z:2.3,name:'AG',country:'Aargau'},
{x:270266,y:4751,z:1.8,name:'TG',country:'Thurgau'},
{x:347790,y:9641,z:2.7,name:'TI',country:'Tessin'},
{x:776566,y:37048,z:4.7,name:'VD',country:'Waadt'},
{x:334818,y:5843,z:1.7,name:'VS',country:'Wallis'},
{x:174628,y:13463,z:7.5,name:'NE',country:'Neuenburg'},
{x:472473,y:29104,z:5.9,name:'GE',country:'Genf'},
{x:71980,y:2350,z:3.2,name:'JU',country:'Jura'}
        		]
    		}];
                
            var legend = {
                	enabled: false
            };
            
            var credits = {
    			text: '<b>�</b> Aktuellste f�r alle Kantone verf�gbare Daten<br>Dienststelle f�r Statistik Kanton Thurgau <br>Datenquelle: Bundesamt f�r Statistik, Schweizerische Sozialhilfestatistik',
    			href: false,
                style: {
                	color:'#999999',
                    cursor: false,
                    fontSize:'10px'
                },
    			position: {
      				align: 'left',
      				x: 10,
      				y: -30 
    			}
  			};
            var exporting = {
            	allowHTML: true,
            	enabled: true,
                filename:'Test_Bubble_Chart_Sozialhiflequote_Kantone',
            	buttons: {
                	contextButton: {
                    	menuItems: "printChart separator downloadPNG downloadJPEG downloadSVG".split(" ")
                    }
            	},
                /*csv: {
                    columnHeaderFormatter: function (item) {
                    	if(item instanceof Highcharts.Axis) {
                        	return 'Quartal';
                        } else {
                        	if(item instanceof Highcharts.Series) {
                        		return item.name;
                            }
                        }
                    }
                }*/
            };
            
            var highchartsOptions = Highcharts.setOptions ({
        		lang: {
                	numericSymbols: null,
        			decimalPoint: '.',
           		 	thousandsSep: "'",
           		 	months: ['Januar', 'Februar', 'M�rz', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember'],
            		weekdays: ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
            		shortMonths: ['Jan', 'Feb', 'Mrz', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez'],
            		contextButtonTitle: 'Drucken, Download, Export',
            		downloadJPEG: 'Download JPEG Bild',
            		downloadPNG: 'Download PNG Bild',
            		downloadSVG: 'Download SVG Vektor Bild',
            		downloadXLS: 'Download XLS',
            		printChart: 'Bild drucken',
            		viewData: 'Datentabelle ein-/ausblenden',
            		resetZoom: "Zoom zur�cksetzen",
            		resetZoomTitle: "Zoom zur�cksetzen",
            		drillUpText: "Zur�ck"
        		}        
			});
            

            var json = {};
            json.chart = chart;
            json.title = title;
            json.subtitle = subtitle;
            json.yAxis = yAxis;
            json.xAxis = xAxis;
            json.plotOptions = plotOptions;
            json.tooltip = tooltip;
            json.series = series;
            json.legend = legend;
            json.credits = credits;
            json.exporting = exporting;
            json.highchartsOptions = highchartsOptions;

            

            $('#Test_Bubble_Chart_Sozialhiflequote_Kantone').highcharts(json);
        });
        
function addThousandsep(nStr) { 
                               nStr += ''; 
                               x = nStr.split('.'); 
                               x1 = x[0]; 
                               x2 = x.length > 1 ? '.' + x[1] : ''; 
                               var rgx = /(\d+)(\d{3})/; 
                               while (rgx.test(x1)) { 
                x1 = x1.replace(rgx, '$1' + "'" + '$2'); 
                               } 
                               return x1 + x2; 
                               } 

</script>





