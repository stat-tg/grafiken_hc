<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
	<script src="https://highcharts.github.io/export-csv/export-csv.js"></script>
    <script src="https://code.highcharts.com/modules/data.js"></script>
    <script src="https://code.highcharts.com/modules/sankey.js"></script>
	<script src="https://code.highcharts.com/modules/dependency-wheel.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>

</head>

<center>
    <div id="2023_08_Bezirke_Wanderungen" style="max-width: 800px; height: 650px"></div>
    
     

</center>
	
	
<script>
$(document).ready(function() {
            var chart = {
            	zoomType: 'xy',
                spacingBottom: 120
            };
            var title = {
                text: "Bezirk Kreuzlingen mit geringeren Zu- und Wegzügen in andere Kantone",
                style: {
                    fontSize: '18px'
                },
                align: 'left'
            };

            
            var subtitle = {
                text: 'Zu- und Wegzüge der Thurgauer Bezirke in die übrige Schweiz, 2020-2022 kumuliert',
                style: {
                    fontSize: '12px'
                },
                align: 'left'
            };

			
            
           
            var series = [{
            	keys: ['from','to','weight'],
                data: [
                ['Bez. Arbon', 'Kt. ZH', 690],
['Bez. Arbon', 'Kt. SH', 55],
['Bez. Arbon', 'Kt. SG', 2847],
['Bez. Arbon', 'Andere Kantone', 1162],
['Bez. Frauenfeld', 'Kt. ZH', 3438],
['Bez. Frauenfeld', 'Kt. SH', 663],
['Bez. Frauenfeld', 'Kt. SG', 643],
['Bez. Frauenfeld', 'Andere Kantone', 1001],
['Bez. Kreuzl.', 'Kt. ZH', 1076],
['Bez. Kreuzl.', 'Kt. SH', 124],
['Bez. Kreuzl.', 'Kt. SG', 485],
['Bez. Kreuzl.', 'Andere Kantone', 774],
['Bez. Münchwilen', 'Kt. ZH', 2272],
['Bez. Münchwilen', 'Kt. SH', 62],
['Bez. Münchwilen', 'Kt. SG', 2178],
['Bez. Münchwilen', 'Andere Kantone', 685],
['Bez. Weinfelden', 'Kt. ZH', 914],
['Bez. Weinfelden', 'Kt. SH', 56],
['Bez. Weinfelden', 'Kt. SG', 1545],
['Bez. Weinfelden', 'Andere Kantone', 788],

            
['Kt. ZH', 'Bez. Arbon', 612],
['Kt. SH', 'Bez. Arbon', 33],
['Kt. SG', 'Bez. Arbon', 2488],
['Andere Kantone', 'Bez. Arbon', 952],
['Kt. ZH', 'Bez. Frauenfeld', 2424],
['Kt. SH', 'Bez. Frauenfeld', 762],
['Kt. SG', 'Bez. Frauenfeld', 715],
['Andere Kantone', 'Bez. Frauenfeld', 1105],
['Kt. ZH', 'Bez. Kreuzl.', 886],
['Kt. SH', 'Bez. Kreuzl.', 128],
['Kt. SG', 'Bez. Kreuzl.', 525],
['Andere Kantone', 'Bez. Kreuzl.', 779],
['Kt. ZH', 'Bez. Münchwilen', 1467],
['Kt. SH', 'Bez. Münchwilen', 56],
['Kt. SG', 'Bez. Münchwilen', 2067],
['Andere Kantone', 'Bez. Münchwilen', 740],
['Kt. ZH', 'Bez. Weinfelden', 843],
['Kt. SH', 'Bez. Weinfelden', 54],
['Kt. SG', 'Bez. Weinfelden', 1431],
['Andere Kantone', 'Bez. Weinfelden', 907],



                    ],
                    nodes: [{
            			id: 'Bez. Frauenfeld',
            			color: '#3CA433'
            		},{
                    	id: 'Bez. Arbon',
            			color: '#a2c510'
                    },{
                    	id: 'Bez. Kreuzl.',
            			color: '#FFED00'
                    },{
                    	id: 'Bez. Münchwilen',
            			color: '#00B4E8'
                    },{
                    	id: 'Bez. Weinfelden',
            			color: '#0064e6'
                    },{
                    	id: 'Kt. ZH',
            			color: '#27408B'
                    },{
                    	id: 'Kt. SH',
            			color: '#CD3700'
                    },{
                    	id: 'Kt. SG',
            			color: '#E39E00'
                    },{
                    	id: 'Andere Kantone',
            			color: '#878787'
                    }],
                     type: 'dependencywheel',
        				name: 'Wohnsitzverlegungen',
        				dataLabels: {
           				color: '#333',
            			textPath: {
                			enabled: true,
                			attributes: {
                    			dy: 5
                			}
            			},
            			distance: 11
        			},
                    /* tooltip: {
                    	headerFormat: '<span style="font-size:10px">Wanderungssaldo</span><br>',
                   		pointFormat: '{point.from} nach {point.to}: <b>{point.x}</b> Personen<br/>'
            },*/
        		size: '95%' 

            }];
            
           var accessibility = {
        		point: {
            		valueDescriptionFormat: '{index}. From {point.from} to {point.to}: 			{point.weight}.'
      			 }
    		};


            var tooltip = {
            	valueSuffix: ' Personen'
     		 };

		
                var legend = {
                    layout: 'horizontal',
                    align: 'center',
                    verticalAlign: 'bottom',
                    padding: 25,
                    symbolPadding: 10,
                    symbolWidth: 25,
                    margin: -10,
                    reversed: true,
                    itemStyle: {
                        fontWeight: 'normal'
                    }
                };

                var credits = {
                    text: '<b>Hinweis: Jeder Region ist eine Farbe zugeteilt.</b> <br>Fahren Sie mit der Maus über die Verbidnungslinien, um die Bewegungsrichtung und<br>die Werte zu sehen. Die Wegzüge aus der Region entsprechen der Farbe der Region<br>(die Zuzüge ergeben sich aus den Wegzügen der anderen Region).<br>Dienststelle für Statistik Kanton Thurgau<br>Datenquelle: Bundesamt für Statistik, STATPOP',
                    href: false,
                    style: {
                        color: '#999999',
                        cursor: false,
                        fontSize: '10px'
                    },
                    position: {
                        align: 'left',
                        x: 10,
                        y: -80
                    }
                };
                var exporting = {
                    allowHTML: true,
                    enabled: true,
                    filename: '2023_08_Bezirke_Wanderungen',
                    buttons: {
                        contextButton: {
                            menuItems: "printChart separator downloadPNG downloadJPEG downloadSVG separator downloadXLS viewData separator viewFullscreen".split(" ")
                        }
                    },

                };

                var highchartsOptions = Highcharts.setOptions({
                    lang: {
                        decimalPoint: '.',
                        thousandsSep: "'",
                        months: ['Januar', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember'],
                        weekdays: ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
                        shortMonths: ['Jan', 'Feb', 'Mrz', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez'],
                        contextButtonTitle: 'Drucken, Download, Export',
                        downloadJPEG: 'Download JPEG Bild',
                        downloadPNG: 'Download PNG Bild',
                        downloadSVG: 'Download SVG Vektor Bild',
                        downloadXLS: 'Download XLS',
                        viewFullscreen: 'Im Vollbildmodus anzeigen',
                        printChart: 'Bild drucken',
                        viewData: 'Datentabelle ein-/ausblenden',
                        hideData: 'Datentabelle ein-/ausblenden',
                        resetZoom: "Zoom zurücksetzen",
                        resetZoomTitle: "Zoom zurücksetzen",
                        drillUpText: "Zurück",
                        numericSymbols: null
                    }
                });
                


                var json = {};
                json.chart = chart;
                json.title = title;
                json.subtitle = subtitle;
                json.series = series;
                json.tooltip = tooltip;
                json.legend = legend;
                json.credits = credits;
                json.exporting = exporting;
                /*json.accessibility = accessibility;*/
                json.highchartsOptions = highchartsOptions;


                $('#2023_08_Bezirke_Wanderungen').highcharts(json);
            });
            
  function addThousandsep(nStr) {
                               nStr += '';
                               x = nStr.split('.');
                               x1 = x[0];
                               x2 = x.length > 1 ? '.' + x[1] : '';
                               var rgx = /(\d+)(\d{3})/;
                               while (rgx.test(x1)) {
                x1 = x1.replace(rgx, '$1' + "'" + '$2');
                               }
                               return x1 + x2;
                               }

</script>
