<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://highcharts.github.io/export-csv/export-csv.js"></script>
    <script src="https://code.highcharts.com/modules/data.js"></script>
</head>
<center>
    <div id="2018_11_Tagesdistanz_Zweck_2015" style="max-width: 800px; height: 500px"></div>
</center>
    <script>
		$(document).ready(function() {
        	var chart = {
            	type: 'pie',
                spacingBottom: 30
            };
            
            var plotOptions = {
        		pie: {
            		allowPointSelect: true,
            		cursor: 'pointer',
            		dataLabels: {
                		enabled: false
            	},
                showInLegend: true
        	}
    	};
            var title = {
                text: 'Freizeitaktivitäten und Arbeitsweg dominieren die Mobilität',
                style: {
                    fontSize: '18px'
                },
                align: 'left'
            };
            var subtitle = {
                text: 'Tagesdistanz nach Mobilitätszweck, Kanton Thurgau, 2015, in Kilometer (Anteile in % in Klammern)',
                style: {
                    fontSize: '12px'
                },
                align: 'left'
            };

           var series = [{
                name: 'Tagesdistanz nach Mobilitätszweck',
                data: [{
                	name: 'Freizeit', 
                    y: 51.5, 
                    color: '#27408B'
                 }, {
                 	name: 'Arbeit', 
                    y: 34.3, 
                    color: '#0064e6' 
                 }, {
                 	name: 'Einkauf und Besorgungen', 
                    y: 12.5, 
                    color: '#00B4E8'
                 }, {
                 	name: 'Geschäftliche Tätigkeit, Dienstfahrt', 
                    y: 8.2, 
                    color: '#FFED00'
                 }, {
                 	name: 'Ausbildung und Schule', 
                    y: 6.4, 
                    color: '#a2c510'
                 }, {
                 	name: 'Service und Begleitwege', 
                    y: 5.0, 
                    color: '#3CA433'
                 }, {
                 	name: 'Anderes', 
                    y: 2.2, 
                    color: '#B5B5B5'
               }],
                innerSize: '40%',
                showInLegend:true,
                dataLabels: {
                    style: {
                    	width: '100px'
 					}
                }
            }];
            
       	   var tooltip = {
           		headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
                pointFormat: '{point.name}: <b>{point.y} km ({point.percentage:.1f} %)</b><br/>',
            	
            };
			
            var legend = {
                layout: 'horizontal',
                reversed: false,
                align: 'center',
                verticalAlign: 'bottom',
				padding: 20,
    			symbolPadding: 5,
    			symbolWidth: 20,
                margin: -5,
				itemStyle: {
                	fontWeight: 'normal'
            	}
            };
            
            var credits = {
    			text: 'Dienststelle fÜr Statistik Kanton Thurgau <br>Datenquelle: BFS/ARE, Mikrozensus Mobilität und Verkehr 2015',
    			href: false,
                style: {
                	color:'#999999',
                    cursor: false,
                    fontSize:'10px'
                },
    			position: {
      				align: 'left',
      				x: 10,
      				y: -30
    			}
  			};
            var exporting = {
            	allowHTML: true,
            	enabled: true,                					  
               	filename:'2018_11_Tagesdistanz_Zweck_2015',
            	buttons: {
                	contextButton: {
                    	menuItems: "printChart separator downloadPNG downloadJPEG downloadSVG".split(" ")
                    }
            	},
                /*csv: {
                    columnHeaderFormatter: function (item) {
                    	if(item instanceof Highcharts.Axis) {
                        	return 'Quartal';
                        } else {
                        	if(item instanceof Highcharts.Series) {
                        		return item.name;
                            }
                        }
                    }
                }*/
            };
            
            var highchartsOptions = Highcharts.setOptions ({
        		lang: {
        			decimalPoint: '.',
           		 	thousandsSep: "'",
           		 	months: ['Januar', 'Februar', 'MÄrz', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember'],
            		weekdays: ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
            		shortMonths: ['Jan', 'Feb', 'Mrz', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez'],
            		contextButtonTitle: 'Drucken, Download, Export',
            		downloadJPEG: 'Download JPEG Bild',
            		downloadPNG: 'Download PNG Bild',
            		downloadSVG: 'Download SVG Vektor Bild',
            		downloadXLS: 'Download XLS',
            		printChart: 'Bild drucken',
            		viewData: 'Datentabelle ein-/ausblenden',
            		resetZoom: "Zoom zurÜcksetzen",
            		resetZoomTitle: "Zoom zurÜcksetzen",
            		drillUpText: "ZurÜck"
        		}        
			});

            var json = {};
            json.chart = chart;
            json.title = title;
            json.subtitle = subtitle;
            json.series = series;
            json.plotOptions = plotOptions;
	    	json.tooltip = tooltip;
            json.legend = legend;
            json.credits = credits;
            json.exporting = exporting;
            json.highchartsOptions = highchartsOptions;

            $('#2018_11_Tagesdistanz_Zweck_2015').highcharts(json);
        });
</script>


