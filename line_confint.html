
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/data.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://highcharts.github.io/export-csv/export-csv.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/highcharts-more.js"></script>
</head>
<center>
    <div id="2022_03_Bruttolohn_Geschlecht_Alter_2020" style="max-width: 800px; height: 500px"></div>
</center>
<script>
$(document).ready(function() {
  var chart = {
    type: 'line',
    spacingBottom: 40,
    marginBottom: 125
  };

  var plotOptions = {
   	line: {
  		marker: {
      		enabled: false
   		},
    events: {
  		legendItemClick: function () {
      		return false; 
       		}
   		}
     }
  };

  var title = {
    text: 'Lohnschere zwischen Frauen und Männern öffnet sich nach dem 30. Lebensjahr',
    style: {
      fontSize: '18px'
    },
    align: 'left'
  };

  var subtitle = {
    text: 'Monatlicher Bruttolohn (Median) in der Privatwirtschaft nach Geschlecht und Alter (in Jahren), Kanton Thurgau, 2020, in CHF',
    style: {
      fontSize: '12px'
    },
    align: 'left'
  };

  var yAxis = {
    gridLineWidth: 1,
    lineWidth: 1,
    min: 0,
    title: ''
  };

  var xAxis = {
    labels: {
      groupedOptions: [{
        style: {
          color: 'black'
        },
        x: 270,
        width: 10,
        rotation: 0,
        align: 'right'
      }],
      style: {
      	width: 100
        }
    },
    align: 'left',
    tickColor: '#ffffff',
    categories: ['20-24','25-29','30-34','35-39','40-44','45-49','50-54','55-59','60-64/65']
  };

  var series = [{
    name: 'Männer',
    color: "#27408B",
    index: 1,
    data: [4845,5504,6152,6342,6734,6808,7053,7157,7051],
    marker: {
    	symbol: 'circle'
        },
    tooltip: {
            pointFormat: '<span style="font-weight: bold; color: {series.color}">{series.name}</span>: <b>{point.y} CHF</b> '
        }
    }, {
    name: '95%-VI¹ Männer',
    type: 'arearange',
    color: '#c3ceee',
    fillOpacity: 0.3,
    index: 2,
    data: [
    [4781,4903],
[5433,5600],
[6004,6282],
[6188,6566],
[6580,6924],
[6634,7022],
[6911,7235],
[6884,7545],
[6840,7277]
        ],
    marker: {
    	symbol: 'circle',
        enabled: false
        },
    showInLegend: false,
    tooltip: {
            pointFormat: '(95%-VI¹: {point.low}-{point.high} CHF)<br/>',
            pointFormat: '(95%-VI¹: {point.low}-{point.high} CHF)<br/>'
        }
  }, {
    name: 'Frauen',
    color: '#0064e6',
    index: 3,
    data: [4656,5101,5647,5500,5430,5481,5898,5867,5642],
    marker: {
    	symbol: 'circle'
        },
    tooltip: {
            pointFormat: '<span style="font-weight: bold; color: {series.color}">{series.name}</span>: <b>{point.y} CHF</b> '
        }
  }, {
    name: '95%-VI¹ Frauen',
    type: 'arearange',
    color: '#b3d4ff',
    fillOpacity: 0.3,
    index: 4,
    data: [
    [4561,4737],
[4869,5349],
[5464,5811],
[5274,5824],
[5112,5651],
[5304,5750],
[5724,6052],
[5647,6025],
[5402,5929]
    ],
    marker: {
    	symbol: 'circle',
        enabled: false
        },
    showInLegend: false,
    tooltip: {
            pointFormat: '(95%-VI¹: {point.low}-{point.high} CHF)<br/>',
            pointFormat: '(95%-VI¹: {point.low}-{point.high} CHF)<br/>'
        }
  
    }];
	
    
  var tooltip = {
    shared: true
  };
  var legend = {
    enabled: true,
    layout: 'horizontal',
    align: 'center',
    verticalAlign: 'bottom',
    padding: 25,
    symbolPadding: 10,
    symbolWidth: 25,
    margin: -20,
    itemStyle: {
      fontWeight: 'normal'
    }
  };

  var credits = {
    text: '<b>¹</b> Das Vertrauensintervall VI (heller Bereich um die Linie) gibt den Bereich an, in welchem sich der Wert mit<br> einer 95 %-igen Wahrscheinlichkeit befindet.<br>Dienststelle für Statistik Kanton Thurgau <br>Datenquelle: Bundesamt für Statistik, Lohnstrukturerhebung 2020',
    href: false,
    style: {
      color: '#999999',
      cursor: false,
      fontSize: '10px'
    },
    position: {
      align: 'left',
      x: 10,
      y: -45
    }
  };

  var exporting = {
    allowHTML: true,
    enabled: true,
    filename: '2022_03_Bruttolohn_Geschlecht_Alter_2020',
    buttons: {
      contextButton: {
        menuItems: "printChart separator downloadPNG downloadJPEG downloadSVG separator downloadXLS viewData".split(" ")
      }
    },
    /*csv: {
        columnHeaderFormatter: function (item) {
        	if(item instanceof Highcharts.Axis) {
            	return 'Quartal';
            } else {
            	if(item instanceof Highcharts.Series) {
            		return item.name;
                }
            }
        }
    }*/
  };

  var highchartsOptions = Highcharts.setOptions({
    lang: {
      decimalPoint: '.',
      thousandsSep: "'",
      months: ['Januar', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember'],
      weekdays: ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
      shortMonths: ['Jan', 'Feb', 'Mrz', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez'],
      contextButtonTitle: 'Drucken, Download, Export',
      downloadJPEG: 'Download JPEG Bild',
      downloadPNG: 'Download PNG Bild',
      downloadSVG: 'Download SVG Vektor Bild',
      downloadXLS: 'Download XLS',
      printChart: 'Bild drucken',
      viewData: 'Datentabelle ein-/ausblenden',
      resetZoom: "Zoom zurücksetzen",
      resetZoomTitle: "Zoom zurücksetzen",
      drillUpText: "Zurück",
      numericSymbols: null //otherwise by default ['k', 'M', 'G', 'T', 'P', 'E']
    }
  });

  var colors = ["#0064e6", "#00B4E8", "#FFED00", "#3CA433", "#0064e6", "#00B4E8", "#FFED00", "#3CA433", "#0064e6", "#00B4E8", "#FFED00", "#3CA433", "#0064e6", "#00B4E8", "#FFED00", "#3CA433", "#0064e6", "#00B4E8", "#FFED00", "#3CA433", "#0064e6", "#00B4E8", "#FFED00", "#3CA433", "#0064e6", "#00B4E8", "#FFED00", "#3CA433"]

  var json = {};
  json.chart = chart;
  json.plotOptions = plotOptions;
  json.title = title;
  json.subtitle = subtitle;
  json.yAxis = yAxis;
  json.xAxis = xAxis;
  json.tooltip = tooltip;
  json.series = series;
  json.legend = legend;
  json.colors = colors;
  json.credits = credits;
  json.exporting = exporting;
  json.highchartsOptions = highchartsOptions;

  $('#2022_03_Bruttolohn_Geschlecht_Alter_2020').highcharts(json);
});

  function addThousandsep(nStr) {
                               nStr += '';
                               x = nStr.split('.');
                               x1 = x[0];
                               x2 = x.length > 1 ? '.' + x[1] : '';
                               var rgx = /(\d+)(\d{3})/;
                               while (rgx.test(x1)) {
                x1 = x1.replace(rgx, '$1' + "'" + '$2');
                               }
                               return x1 + x2;
                               }
</script>
