<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="http://code.highcharts.com/modules/exporting.js"></script>
    <script src="http://code.highcharts.com/modules/export-data.js"></script>
	<script src="http://highcharts.github.io/export-csv/export-csv.js"></script>
    <script src="https://code.highcharts.com/modules/data.js"></script>
    <script src="https://code.highcharts.com/modules/series-label.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>
</head><center>
    <figure class="highcharts-figure"></figure>
    <div id="Todesursachen" style="max-width: 800px; height: 500px"></div>
</center>    
<script>
        $(document).ready(function() {
        	var chart = {
            	 type: 'column',
                 marginTop: 140,
                 spacingBottom: 30,
                 zoomType: "xy"
            };
            var plotOptions = {
    			area: {
        			 stacking: 'normal',
                     marker: {
                     	enabled: false
                        }
				}
			};
            var title = {
                text: 'Anzahl Todesfälle 2019 und deren Todesursachen',
                style: {
                    fontSize: '18px'
                },
                align: 'left'
            };
            var subtitle = {
                text: 'Kanton Thurgau, 2019',
                style: {
                    fontSize: '12px'
                },
                align: 'left'
            };
             var xAxis = {
            	tickColor: '#ffffff',
                categories: ['0-44', '45-64', '65-84', '85+']   
            };
            var labels = {
                items: [{
                    html: '',
                    style: {
                        left: '50px',
                        top: '18px',
                    color: ( // theme
                        Highcharts.defaultOptions.title.style &&
                        Highcharts.defaultOptions.title.style.color
                ) || 'black'
            }
                }]
            };
            var yAxis = {
            	type: 'linear',
                min: 0,
                tickInterval: 500,
                title: ''
            };
            var tooltip = {
                shared: false
};
            var legend = {
                layout: 'horizontal',
                align: 'center',
                verticalAlign: 'bottom',
    			padding: 25,
    			symbolPadding: 10,
    			symbolWidth: 25,
                margin: -10,
            	itemStyle: {
                fontWeight: 'normal'
            	}
            };
            var series =  [{
        type: 'column',
        name: 'Herz-Kreislauf-Krankheiten',
        color: '#27408B',
        data: [4,44,272,378]
    }, {
        type: 'column',
        name: 'Krebserkrankungen',
        color: '#0064e6',
        data: [8,109,305,111]
    }, {
        type: 'column',
        name: 'Demenz',
        color: '#00B4E8',
        data: [0, 0, 27,111]
    }, {
        type: 'column',
        name: 'Atemwegserkrankungen',
        color: '#3CA433',
        data: [0,17,79,58]
    }, {
        type: 'column',
        name: 'Krankheiten des Nervensystems',
        color: '#a2c510',
        data: [0,4,53,32]
    }, {
        type: 'column',
        name: 'Unfälle und Gewalteinwirkung',
        color: '#FFED00',
        data: [6,13,19,46]
    }, {
        type: 'column',
        name: 'Suizid',
        color: '#E39E00',
        data: [13,12,7,3]
    }, {
        type: 'column',
        name: 'Übrige Todesursachen',
        color: '#B5B5B5',
        data: [27,51,130,146]
    },{
        type: 'spline',
        name: 'Total Todesfälle',
        color: 'black',
        data: [58,250,892,885],
        marker: {
            lineWidth: 2,
            lineColor: 'black',
            fillColor: 'white'
        }
    }, {
        type: 'pie',
        name: '0-44',
        data: [{
            name: 'Herz-Kreislauf-Krankheiten',
            y: 4,
            color: '#27408B'
        }, {
            name: 'Krebserkrankungen',
            y: 8,
            color: '#0064e6'
        }, {
            name: 'Unfälle und Gewalteinwirkung',
            y: 6,
            color: '#FFED00'
        }, {
            name: 'Suizid',
            y: 13,
            color: '#E39E00'
        }, {
            name: 'Andere',
            y: 27,
            color: '#B5B5B5'
        }],
        center: [70, -50],
        size: 50,
        showInLegend: false,
        dataLabels: {
            enabled: false
        }
    }, {
        type: 'pie',
        name: '45-64',
        data: [{
            name: 'Herz-Kreislauf-Krankheiten',
            y: 44,
            color: '#27408B'
        }, {
            name: 'Krebserkrankungen',
            y: 109,
            color: '#0064e6'
        }, {
            name: 'Atemwegserkrankungen',
            y: 17,
            color: '#3CA433'
        }, {
            name: 'Krankheiten des Nervensystems',
            y: 4,
            color: '#a2c510'
        },{
            name: 'Unfälle und Gewalteinwirkung',
            y: 13,
            color: '#FFED00'
        },{
            name: 'Suizid',
            y: 12,
            color: '#E39E00'
        }, {
            name: 'Andere',
            y: 51,
            color: '#B5B5B5'
        }],
        center: [260, -50],
        size: 50,
        showInLegend: false,
        dataLabels: {
            enabled: false
        }
    },{
        type: 'pie',
        name: '65-84',
        data: [{
            name: 'Herz-Kreislauf-Krankheiten',
            y: 272,
            color: '#27408B'
        }, {
            name: 'Krebserkrankungen',
            y: 305,
            color: '#0064e6'
        }, {
            name: 'Demenz',
            y: 27,
            color: '#00B4E8'
        }, {
            name: 'Atemwegserkrankungen',
            y: 79,
            color: '#3CA433'
        }, {
            name: 'Krankheiten des Nervensystems',
            y: 53,
            color: '#a2c510'
        },{
            name: 'Unfälle und Gewalteinwirkung',
            y: 19,
            color: '#FFED00'
        },{
            name: 'Suizid',
            y: 7,
            color: '#E39E00'
        }, {
            name: 'Andere',
            y: 130,
            color: '#B5B5B5'
        }],
        center: [450, -50],
        size: 50,
        showInLegend: false,
        dataLabels: {
            enabled: false
        }
    },{
        type: 'pie',
        name: '85+',
        data: [{
            name: 'Herz-Kreislauf-Krankheiten',
            y: 378,
            color: '#27408B'
        }, {
            name: 'Krebserkrankungen',
            y: 111,
            color: '#0064e6'
        }, {
            name: 'Demenz',
            y: 111,
            color: '#00B4E8'
        }, {
            name: 'Atemwegserkrankungen',
            y: 58,
            color: '#3CA433'
        }, {
            name: 'Krankheiten des Nervensystems',
            y: 32,
            color: '#a2c510'
        },{
            name: 'Unfälle und Gewalteinwirkung',
            y: 46,
            color: '#FFED00'
        },{
            name: 'Suizid',
            y: 3,
            color: '#E39E00'
        }, {
            name: 'Andere',
            y: 146,
            color: '#B5B5B5'
        }],
        center: [650, -50],
        size: 50,
        showInLegend: false,
        dataLabels: {
            enabled: false
        }
    }];
            var credits = {
    			text: 'Dienststelle für Statistik Kanton Thurgau <br>Datenquelle: XXX',
    			href: false,
                style: {
                	color:'#999999',
                    cursor: false,
                    fontSize:'10px'
                },
    			position: {
      				align: 'left',
      				x: 10,
      				y: -20
    			}
  			};
            var exporting = {
            	allowHTML: true,
            	enabled: true,
                filename:'Todesursachen',
            	buttons: {
                	contextButton: {
                        menuItems: "printChart separator downloadPNG downloadJPEG downloadSVG separator downloadXLS viewData".split(" ")
                	}
            	},
                csv: {
                    columnHeaderFormatter: function (item) {
                    	if(item instanceof Highcharts.Axis) {
                        	return 'Quartal';
                        } else {
                        	if(item instanceof Highcharts.Series) {
                        		return item.name;
                            }
                        }
                    }
                }
            };
            var lang = {
            	contextButtonTitle: 'Drucken, Download, Export',
                downloadJPEG: 'Download JPEG Bild',
                downloadPNG: 'Download PNG Bild',
                downloadSVG: 'Download SVG Vektor Bild',
                printChart: 'Bild drucken',
                downloadXLS: 'Download XLS',
                viewData: 'Datentabelle ein-/ausblenden',
                decimalPoint: '.',
                thousandsSep: ' '
            };

            var json = {};
            json.chart = chart;
            json.plotOptions = plotOptions;
            json.title = title;
            json.subtitle = subtitle;
            json.xAxis = xAxis;
            json.labels = labels;
            json.yAxis = yAxis;
            json.tooltip = tooltip;
            json.legend = legend;
            json.series = series;
            json.credits = credits;
            json.exporting = exporting;
            json.lang = lang;

            $('#Todesursachen').highcharts(json);
        });
    </script>
