<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
	<script src="https://highcharts.github.io/export-csv/export-csv.js"></script>
    <script src="https://code.highcharts.com/modules/data.js"></script>
    <script src="https://code.highcharts.com/modules/annotations.js"></script>
</head>
<center>
    <div id="2023_03_Steuerkraft_Scatter_2019_2022" style="max-width: 800px; height: 750px"></div>
</center>
    <script>
$(document).ready(function() {
  var chart = {
    type: 'scatter',
    zoomType: 'xy',
    spacingBottom: 65
  };
  var title = {
    text: 'Die Steuerkraft sank 2022 in mehr als der Hälfte der Gemeinden',
    style: {
      fontSize: '18px'
    },
    align: 'left'
  };


  var subtitle = {
    text: 'Steuerkraft pro Einwohnerin oder Einwohner und Vorjahresveränderung, Kanton Thurgau, 2022, in Franken/Prozent',
    style: {
      fontSize: '12px'
    },
    align: 'left'
  };

  var plotOptions = {
    scatter: {
      marker: {
        symbol: 'square',
        states: {
          hover: {
            enabled: true,
            lineColor: 'rgb(100,100,100)'
          }
        }
      },
      states: {
        hover: {
          marker: {
            enabled: false
          }
        }
      },
      tooltip: {
        headerFormat: '<b>{series.name}</b><br>',
        pointFormat: 'Steuerkraft pro Einw.: {point.x} Franken<br> Vorjahresveränderung: {point.y} %'
      }
    }
  };

  var xAxis = {
    title: {
      text: "Steuerkraft 2022, in Franken"
    },
    min: 0
  };

  var yAxis = {
    gridLineWidth: 0.5,
    lineWidth: 1,
    gridLineColor: "#ccd6eb",
    title: {
      enable: true,
      text: "Vorjahresveränderung, in %"
    },
    min: -25,
    tickIntervall: 5,
    max: 25
  };


  var series = [{
    type: 'line',
    color: 'lightgrey',
    lineWidth: 2,
    name: 'Regression Line',
    data: [
      [2200, -25],
      [2200, 30]
    ],
    marker: {
      enabled: false,
      symbol: 'circle'
    },
    tooltip: {
      headerFormat: '<b>Kantonsmittel<br>',
      pointFormat: 'Steuerkraft: 2200 Franken'
    }
  }, {
    type: 'line',
    color: 'lightgrey',
    lineWidth: 2,
    name: 'Regression Line',
    data: [
      [0, 2.2],
      [6800, 2.2]
    ],
    marker: {
      enabled: false,
      symbol: 'circle'
    },
    tooltip: {
      headerFormat: '<b>Kanton Thurgau<br>',
      pointFormat: 'Vorjahresveränderung: 2.2 %'
    }
  }, {
    type:'scatter',name:'Aadorf',color:'#0064e6',data:[[2048,1.3]]},
{type:'scatter',name:'Affeltrangen',color:'#0064e6',data:[[1694,-8.9]]},
{type:'scatter',name:'Altnau',color:'#0064e6',data:[[2240,-2.3]]},
{type:'scatter',name:'Amlikon-Bissegg',color:'#0064e6',data:[[1967,-3.5]]},
{type:'scatter',name:'Amriswil',color:'#0064e6',data:[[1765,-5]]},
{type:'scatter',name:'Arbon',color:'#0064e6',data:[[1918,3.8]]},
{type:'scatter',name:'Basadingen-Schlattingen',color:'#0064e6',data:[[1929,-6.1]]},
{type:'scatter',name:'Berg',color:'#0064e6',data:[[2125,2.4]]},
{type:'scatter',name:'Berlingen',color:'#0064e6',data:[[2504,-8.2]]},
{type:'scatter',name:'Bettwiesen',color:'#0064e6',data:[[2619,-0.9]]},
{type:'scatter',name:'Bichelsee-Balterswil',color:'#0064e6',data:[[1752,1.5]]},
{type:'scatter',name:'Birwinken',color:'#0064e6',data:[[1846,4.3]]},
{type:'scatter',name:'Bischofszell',color:'#0064e6',data:[[1787,0.9]]},
{type:'scatter',name:'Bottighofen',color:'#0064e6',data:[[4548,1.1]]},
{type:'scatter',name:'Braunau',color:'#0064e6',data:[[1848,-1]]},
{type:'scatter',name:'Bürglen',color:'#0064e6',data:[[1692,-1.7]]},
{type:'scatter',name:'Bussnang',color:'#0064e6',data:[[1934,-22.4]]},
{type:'scatter',name:'Diessenhofen',color:'#0064e6',data:[[1921,-4]]},
{type:'scatter',name:'Dozwil',color:'#0064e6',data:[[1913,-1.2]]},
{type:'scatter',name:'Egnach',color:'#0064e6',data:[[2017,-2.2]]},
{type:'scatter',name:'Erlen',color:'#0064e6',data:[[1639,-8.9]]},
{type:'scatter',name:'Ermatingen',color:'#0064e6',data:[[3633,-3.2]]},
{type:'scatter',name:'Eschenz',color:'#0064e6',data:[[2143,-3.2]]},
{type:'scatter',name:'Eschlikon',color:'#0064e6',data:[[2256,1.5]]},
{type:'scatter',name:'Felben-Wellhausen',color:'#0064e6',data:[[1918,-7.4]]},
{type:'scatter',name:'Fischingen',color:'#0064e6',data:[[1941,5]]},
{type:'scatter',name:'Frauenfeld',color:'#0064e6',data:[[2539,-0.3]]},
{type:'scatter',name:'Gachnang',color:'#0064e6',data:[[2256,4]]},
{type:'scatter',name:'Gottlieben',color:'#0064e6',data:[[3284,-7.2]]},
{type:'scatter',name:'Güttingen',color:'#0064e6',data:[[2269,-4.4]]},
{type:'scatter',name:'Hauptwil-Gottshaus',color:'#0064e6',data:[[1761,-0.1]]},
{type:'scatter',name:'Hefenhofen',color:'#0064e6',data:[[1809,-12.4]]},
{type:'scatter',name:'Herdern',color:'#0064e6',data:[[2009,-4.5]]},
{type:'scatter',name:'Hohentannen',color:'#0064e6',data:[[1863,-3.7]]},
{type:'scatter',name:'Homburg',color:'#0064e6',data:[[2338,5.5]]},
{type:'scatter',name:'Horn',color:'#0064e6',data:[[3039,-0.7]]},
{type:'scatter',name:'Hüttlingen',color:'#0064e6',data:[[1629,-6.6]]},
{type:'scatter',name:'Hüttwilen',color:'#0064e6',data:[[2330,4.9]]},
{type:'scatter',name:'Kemmental',color:'#0064e6',data:[[1952,2.8]]},
{type:'scatter',name:'Kesswil',color:'#0064e6',data:[[3342,28.9]]},
{type:'scatter',name:'Kradolf-Schönenberg',color:'#0064e6',data:[[1760,2.6]]},
{type:'scatter',name:'Kreuzlingen',color:'#0064e6',data:[[2357,-1.9]]},
{type:'scatter',name:'Langrickenbach',color:'#0064e6',data:[[1745,0.4]]},
{type:'scatter',name:'Lengwil',color:'#0064e6',data:[[1958,11.5]]},
{type:'scatter',name:'Lommis',color:'#0064e6',data:[[2060,-19.9]]},
{type:'scatter',name:'Mammern',color:'#0064e6',data:[[2658,-10.2]]},
{type:'scatter',name:'Märstetten',color:'#0064e6',data:[[2261,6.6]]},
{type:'scatter',name:'Matzingen',color:'#0064e6',data:[[1831,1.1]]},
{type:'scatter',name:'Müllheim',color:'#0064e6',data:[[1990,7.2]]},
{type:'scatter',name:'Münchwilen',color:'#0064e6',data:[[1840,-4.1]]},
{type:'scatter',name:'Münsterlingen',color:'#0064e6',data:[[2885,10.2]]},
{type:'scatter',name:'Neunforn',color:'#0064e6',data:[[2658,-7.2]]},
{type:'scatter',name:'Pfyn',color:'#0064e6',data:[[1716,-5.1]]},
{type:'scatter',name:'Raperswilen',color:'#0064e6',data:[[2020,-4.4]]},
{type:'scatter',name:'Rickenbach',color:'#0064e6',data:[[1608,-4.5]]},
{type:'scatter',name:'Roggwil',color:'#0064e6',data:[[2632,8.4]]},
{type:'scatter',name:'Romanshorn',color:'#0064e6',data:[[2079,7.5]]},
{type:'scatter',name:'Salenstein',color:'#0064e6',data:[[4463,3.4]]},
{type:'scatter',name:'Salmsach',color:'#0064e6',data:[[1662,10.6]]},
{type:'scatter',name:'Schlatt',color:'#0064e6',data:[[2009,5.7]]},
{type:'scatter',name:'Schönholzerswilen',color:'#0064e6',data:[[1562,0.7]]},
{type:'scatter',name:'Sirnach',color:'#0064e6',data:[[2083,0.6]]},
{type:'scatter',name:'Sommeri',color:'#0064e6',data:[[1599,2.4]]},
{type:'scatter',name:'Steckborn',color:'#0064e6',data:[[2538,2.4]]},
{type:'scatter',name:'Stettfurt',color:'#0064e6',data:[[2652,-1.6]]},
{type:'scatter',name:'Sulgen',color:'#0064e6',data:[[1698,-0.4]]},
{type:'scatter',name:'Tägerwilen',color:'#0064e6',data:[[2819,-3.1]]},
{type:'scatter',name:'Thundorf',color:'#0064e6',data:[[1872,4.4]]},
{type:'scatter',name:'Tobel-Tägerschen',color:'#0064e6',data:[[1751,-4.1]]},
{type:'scatter',name:'Uesslingen-Buch',color:'#0064e6',data:[[2215,-2.2]]},
{type:'scatter',name:'Uttwil',color:'#0064e6',data:[[2758,0.8]]},
{type:'scatter',name:'Wagenhausen',color:'#0064e6',data:[[1790,0.1]]},
{type:'scatter',name:'Wäldi',color:'#0064e6',data:[[2287,-0.5]]},
{type:'scatter',name:'Wängi',color:'#0064e6',data:[[1950,-2.5]]},
{type:'scatter',name:'Warth-Weiningen',color:'#0064e6',data:[[5993,-10.1]]},
{type:'scatter',name:'Weinfelden',color:'#0064e6',data:[[2488,-1.1]]},
{type:'scatter',name:'Wigoltingen',color:'#0064e6',data:[[1880,2.3]]},
{type:'scatter',name:'Wilen',color:'#0064e6',data:[[1936,3.3]]},
{type:'scatter',name:'Wuppenau',color:'#0064e6',data:[[2071,-4.3]]},
{type:'scatter',name:'Zihlschlacht-Sitterdorf',color:'#0064e6',data:[[1787,0.6]]},
{type:'scatter',name:'Kanton Thurgau',color:'#3CA433',data:[[2200,-0.4]]


  }];

  var legend = {
    enabled: false,
    layout: 'horizontal',
    align: 'center',
    verticalAlign: 'bottom',
    padding: 25,
    symbolPadding: 10,
    symbolWidth: 25,
    margin: -10,
    itemStyle: {
      fontWeight: 'normal'
    }
  };

  var credits = {
    text: '<span style="font-size: 12px; font-weight: bold; color: #27408B">Hinweis: Markieren Sie den gewünschten Bereich mit der Maus, um den Ausschnitt </span><br><span style="font-size: 12px; font-weight: bold; color: #27408B">zu vergrössern.</span><br>Dienststelle für Statistik Kanton Thurgau <br>Datenquelle: Steuerverwaltung Kanton Thurgau',
    href: false,
    style: {
      color: '#999999',
      cursor: false,
      fontSize: '10px'
    },
    position: {
      align: 'left',
      x: 10,
      y: -45
    }
  };
  var exporting = {
    allowHTML: true,
    enabled: true,
    filename: '2023_03_Steuerkraft_Scatter_2019_2022',
    buttons: {
      contextButton: {
        menuItems: "printChart separator downloadPNG downloadJPEG downloadSVG".split(" ")
      }
    },

  };

  var highchartsOptions = Highcharts.setOptions({
    lang: {
      decimalPoint: '.',
      thousandsSep: "'",
      months: ['Januar', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember'],
      weekdays: ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
      shortMonths: ['Jan', 'Feb', 'Mrz', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez'],
      contextButtonTitle: 'Drucken, Download, Export',
      downloadJPEG: 'Download JPEG Bild',
      downloadPNG: 'Download PNG Bild',
      downloadSVG: 'Download SVG Vektor Bild',
      downloadXLS: 'Download XLS',
      printChart: 'Bild drucken',
      viewData: 'Datentabelle ein-/ausblenden',
      resetZoom: "Zoom zurücksetzen",
      resetZoomTitle: "Zoom zurücksetzen",
      drillUpText: "Zurück",
      numericSymbols: null
    }
  });



  var json = {};
  json.chart = chart;
  json.title = title;
  json.plotOptions = plotOptions;
  json.subtitle = subtitle;
  json.yAxis = yAxis;
  json.xAxis = xAxis;
  json.series = series;
  json.legend = legend;
  json.credits = credits;
  json.exporting = exporting;
  json.highchartsOptions = highchartsOptions;


  $('#2023_03_Steuerkraft_Scatter_2019_2022').highcharts(json);
});

function addThousandsep(nStr) {
  nStr += '';
  x = nStr.split('.');
  x1 = x[0];
  x2 = x.length > 1 ? '.' + x[1] : '';
  var rgx = /(\d+)(\d{3})/;
  while (rgx.test(x1)) {
    x1 = x1.replace(rgx, '$1' + "'" + '$2');
  }
  return x1 + x2;
}

</script>



