<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://highcharts.github.io/export-csv/export-csv.js"></script>
    <script src="https://code.highcharts.com/modules/data.js"></script>

</head>
<main style="display: flex">
    <div id="2022_12_Neugruendungen_Staedte_20200" style="max-width: 290px; height: 400px"></div>
    <div id="2022_12_Neugruendungen_Staedte_20201" style="max-width: 290px; height: 400px"></div>
   

</main>

<script>	
$(document).ready(function() {
	  var chart = {
	    type: 'bar',
	    spacingBottom: 40
	  };

	  var subtitle = {
	    text: '',
	    style: {
	      fontSize: '12px'
	    },
	    align: 'left'
	  };

	  var xAxis = {
	    tickColor: '#ffffff',
	    labels: {
	      rotation: 0
	    },
	    categories: ['Kreuzlingen','Frauenfeld','Amriswil','Arbon','Weinfelden','Romanshorn']
	  };
	  var yAxis = {
	    gridLineWidth: 1,
	    lineWidth: 1,
	    title: ''
	  };
	  var plotOptions = {
	    bar: {
	      //stacking: 'percent',
	      reversed: true,
	      events: {
	        legendItemClick: function() {
	          return false;
	        }
	      }
	    }
	  };
	  var tooltip = {
	    shared: false,
	    useHTML: true
	  };
	  var series = [{
	    name: 'neu gegründete Unternehmen ',
	    data: [570,540,265,252,243,204
],
	    color: '#0064e6',
        tooltip: {
        	pointFormat: 'Im Zeitraum 2016 bis 2020 <span>{series.name}</span>: <b>{point.y} <br/>',
            }        
	  }, {
	    name: 'neu gegründete Unternehmen je 1000 Einw. im Jahr 2020',
	    data: [25.5,20.8,18.6,16.9,20.9,18.0
],
	    color: '#FFA500',
        tooltip: {
        	pointFormat: 'Im Zeitraum 2015-2019 <span>{series.name}</span>: <b>{point.y}<br/>',
            }  
	  }];

	  var legend = {
      	enabled: false,
	    layout: 'horizontal',
	    align: 'center',
	    verticalAlign: 'bottom',
	    padding: 25,
	    symbolPadding: 10,
	    symbolWidth: 25,
	    margin: -10,
	    itemStyle: {
	      fontWeight: 'normal'
	    },
	    reversed: true
	  };
	  var credits = {
      	enabled: false,
	    text: "Datenquelle: Bundesamt für Statistik, UDEMO 2020",
	    href: false,
	    style: {
	      color: '#999999',
	      cursor: false,
	      fontSize: '10px'
	    },
	    position: {
	      align: 'left',
	      x: 10,
	      y: -25
	    }
	  };


	  var exporting = {
	    allowHTML: true,
	    enabled: false,
	    filename: '2022_12_Neugruendungen_Staedte',
	    buttons: {
	      contextButton: {
	        menuItems: "printChart separator downloadPNG downloadJPEG downloadSVG separator downloadXLS separator viewData".split(" ")
	      }
	    },
	    /*csv: {
	        columnHeaderFormatter: function (item) {
	        	if(item instanceof Highcharts.Axis) {
	            	return 'Quartal';
	            } else {
	            	if(item instanceof Highcharts.Series) {
	            		return item.name;
	                }
	            }
	        }
	    }*/
	  };
	 var highchartsOptions = Highcharts.setOptions({
	    lang: {
	      decimalPoint: '.',
	      thousandsSep: "'",
	      months: ['Januar', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember'],
	      weekdays: ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
	      shortMonths: ['Jan', 'Feb', 'Mrz', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez'],
	      contextButtonTitle: 'Drucken, Download, Export',
	      downloadJPEG: 'Download JPEG Bild',
	      downloadPNG: 'Download PNG Bild',
	      downloadSVG: 'Download SVG Vektor Bild',
	      downloadXLS: 'Download XLS',
	      printChart: 'Bild drucken',
	      viewData: 'Datentabelle ein-/ausblenden',
	      hideData: 'Datentabelle ein-/ausblenden',
	      resetZoom: "Zoom zurücksetzen",
	      resetZoomTitle: "Zoom zurücksetzen",
	      drillUpText: "Zurück"
	    }
	  });
	
	  var json = {};
	  json.chart = chart;
	  json.plotOptions = plotOptions;
	  json.subtitle = subtitle;
	  json.yAxis = yAxis;
	  json.xAxis = xAxis;
	  json.legend = legend;
	  json.credits = credits;
	  json.exporting = exporting;
	  json.tooltip = tooltip;
	  json.highchartsOptions = highchartsOptions;
    

	const chartTitles = ['Neugegründete Unternehmen', 'Gründungen<br>je 1000 Einw.'];

	 
	  series.forEach((series, index) => {
    	json.title = {
	    text: chartTitles[index],
	    style: {
	      fontSize: '18px',
	    },
	    align: 'left'
	  };
	    json.series = [series];
        
        
      
	    Highcharts.chart(`2022_12_Neugruendungen_Staedte_2020${index}`, json)
	  })

Highcharts.charts.forEach(chart => chart.reflow());
	});


</script>

