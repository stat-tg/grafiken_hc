<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
	<script src="https://highcharts.github.io/export-csv/export-csv.js"></script>
    <script src="https://code.highcharts.com/modules/data.js"></script>
    <script src="https://code.highcharts.com/modules/drilldown.js"></script>
    <style>
text {
    text-decoration: none !important;
}
 </style>
</head>
<center>
    <div id="2020_08_Notrufe_2006_2019" style="max-width: 800px; height: 500px"></div>
</center>
    <script>
    	$(document).ready(function() {
        	var chart = {
            	type: 'column',
                spacingBottom: 65
            };
            var title = {
                text: 'Die Zahl der Notrufe nimmt über die Zeit ab',
                style: {
                    fontSize: '18px'
                },
                align: 'left'
            };
            var subtitle = {
                text: "Notrufe an die Sanitätsnotrufzentrale 144, Kanton Thurgau, 2006-2019, in Anzahl Anrufen",
                style: {
                    fontSize: '12px'
                },
                align: 'left'
            };
            
            var yAxis = {
                gridLineWidth: 1,
                title: '',
                lineWidth: 1

            };
            
            var plotOptions = {
        		series: {
            		borderWidth: 0
            		/*dataLabels: {
                		enabled: true,
               			format: "{point.y:,.0f}"
            		}*/
        		},
                column: {
                    stacking: 'normal'
                }
    		};
            
            var xAxis = {
            	type: 'category',
                labels: {
                	rotation: 0,
                    overflow: "justify"
                    }
            	
            };
            
            var series = [{
            	name: "Anzahl Anrufe",
                color: '#27408B',
                data: [{
                	name: "2006",
                    y: 24601,
                    drilldown: "2006"
                }, {
                	name: "2007",
                    y: 26009,
                    drilldown: "2007"
                }, {
                	name: "2008",
                    y: 25923,
                    drilldown: "2008"
                }, {
                	name: "2009",
                    y: 25391,
                    drilldown: "2009"   
                }, {
                	name: "2010",
                    y: 21240,
                    drilldown: "2010"
                }, {
                	name: "2011",
                    y: 19488,
                    drilldown: "2011"
                }, {
                	name: "2012",
                    y: 19827,
                    drilldown: "2012"
                }, {
                	name: "2013",
                    y: 19339,
                    drilldown: "2013"
                }, {
                	name: "2014",
                    y: 18378,
                    drilldown: "2014"
                }, {
                	name: "2015",
                    y: 18885,
                    drilldown: "2015"
                }, {
                	name: "2016",
                    y: 17800,
                    drilldown: "2016"
                 }, {
                	name: "2017",
                    y: 16805,
                    drilldown: "2017"
                }, {
                	name: "2018",
                    y: 17853,
                    drilldown: "2018"
                }, {
			name: "2019",
		    y: 16504,
		    drilldown: "2019"
		}]
            }];
            
            var drilldown = {
            	series: [{
                	name: "Anzahl Anrufe",
                    id: "2006",
                    colorByPoint: true,
                    data: [
                    	["Medizin. <br/>Auskunft", 14345],
                        ["Trans-<br/>port", 1994],
                        ["Sturz, <br/>Absturz", 676],
                        ["Bewusst-<br/>losigkeit", 495],
                        ["Verkehrs-<br/>unfall", 153],
                        ["Herzpro-<br/>bleme", 196],
                        ["Atem-<br/>probleme", 255],
                        ["Kranke <br/>Person", 249],
                        ["Übrige", 6238]
                   	]
                }, {
                    name: "Anzahl Anrufe",
                    id: "2007",
                    colorByPoint: true,
                    data: [
                    	["Medizin. <br/>Auskunft", 15555],
                        ["Trans-<br/>port", 1724],
                        ["Sturz, <br/>Absturz", 1007],
                        ["Bewusst-<br/>losigkeit", 647],
                        ["Verkehrs-<br/>unfall", 484],
                        ["Herzpro-<br/>bleme", 382],
                        ["Atem-<br/>probleme", 373],
                        ["Kranke <br/>Person", 384],
                        ["Übrige", 5453]
                    ]
                 }, {
                    name: "Anzahl Anrufe",
                    id: "2008",
                    colorByPoint: true,
                    data: [
                    	["Medizin. <br/>Auskunft", 15928],
                        ["Trans-<br/>port", 1767],
                        ["Sturz, <br/>Absturz", 1009],
                        ["Bewusst-<br/>losigkeit", 614],
                        ["Verkehrs-<br/>unfall", 427],
                        ["Herzpro-<br/>bleme", 372],
                        ["Atem-<br/>probleme", 342],
                        ["Kranke <br/>Person", 544],
                        ["Übrige", 4920]
                    ]
                }, {
                    name: "Anzahl Anrufe",
                    id: "2009",
                    colorByPoint: true,
                    data: [
                    	["Medizin. <br/>Auskunft", 15429],
                        ["Trans-<br/>port", 1930],
                        ["Sturz, <br/>Absturz", 1167],
                        ["Bewusst-<br/>losigkeit", 600],
                        ["Verkehrs-<br/>unfall", 419],
                        ["Herzpro-<br/>bleme", 386],
                        ["Atem-<br/>probleme", 380],
                        ["Kranke <br/>Person", 757],
                        ["Übrige", 4260]
                    ]
                }, {
                    name: "Anzahl Anrufe",
                    id: "2010",
                    colorByPoint: true,
                    data: [
                    	["Medizin. <br/>Auskunft", 11567],
                        ["Trans-<br/>port", 1762],
                        ["Sturz, <br/>Absturz", 1182],
                        ["Bewusst-<br/>losigkeit", 617],
                        ["Verkehrs-<br/>unfall", 441],
                        ["Herzpro-<br/>bleme", 432],
                        ["Atem-<br/>probleme", 388],
                        ["Kranke <br/>Person", 859],
                        ["Übrige", 3992]
                    ]
                }, {
                    name: "Anzahl Anrufe",
                    colorByPoint: true,
                    id: "2011",
                    data: [
                    	["Medizin. <br/>Auskunft", 9784],
                        ["Trans-<br/>port", 1774],
                        ["Sturz, <br/>Absturz", 1219],
                        ["Bewusst-<br/>losigkeit", 586],
                        ["Verkehrs-<br/>unfall", 467],
                        ["Herzpro-<br/>bleme", 415],
                        ["Atem-<br/>probleme", 401],
                         ["Kranke <br/>Person", 887],
                        ["Übrige", 3955]
                    ]
                 }, {
                    name: "Anzahl Anrufe",
                    id: "2012",
                    colorByPoint: true,
                    data: [
                    	["Medizin. <br/>Auskunft", 10347],
                        ["Trans-<br/>port", 1734],
                        ["Sturz, <br/>Absturz", 1216],
                        ["Bewusst-<br/>losigkeit", 621],
                        ["Verkehrs-<br/>unfall", 435],
                        ["Herzpro-<br/>bleme", 392],
                        ["Atem-<br/>probleme", 394],
                         ["Kranke <br/>Person", 889],
                        ["Übrige", 3799]
                    ]
                 }, {
                    name: "Anzahl Anrufe",
                    id: "2013",
                    colorByPoint: true,
                    data: [
                    	["Medizin. <br/>Auskunft", 8450],
                        ["Trans-<br/>port", 1951],
                        ["Sturz, <br/>Absturz", 1253],
                        ["Bewusst-<br/>losigkeit", 720],
                        ["Verkehrs-<br/>unfall", 401],
                        ["Herzpro-<br/>bleme", 409],
                        ["Atem-<br/>probleme", 393],
                         ["Kranke <br/>Person", 904],
                        ["Übrige", 4858]
                    ]
                 }, {
                    name: "Anzahl Anrufe",
                    id: "2014",
                    colorByPoint: true,
                    data: [
                    	["Medizin. <br/>Auskunft", 6949],
                        ["Trans-<br/>port", 1917],
                        ["Sturz, <br/>Absturz", 1342],
                        ["Bewusst-<br/>losigkeit", 605],
                        ["Verkehrs-<br/>unfall", 424],
                        ["Herzpro-<br/>bleme", 443],
                        ["Atem-<br/>probleme", 363],
                         ["Kranke <br/>Person", 1002],
                        ["Übrige", 5333]
                    ]
                 }, {
                    name: "Anzahl Anrufe",
                    id: "2015",
                    colorByPoint: true,
                    data: [
                    	["Medizin. <br/>Auskunft", 6412],
                        ["Trans-<br/>port", 2127],
                        ["Sturz, <br/>Absturz", 1272],
                        ["Bewusst-<br/>losigkeit", 676],
                        ["Verkehrs-<br/>unfall", 426],
                        ["Herzpro-<br/>bleme", 419],
                        ["Atem-<br/>probleme", 449],
                         ["Kranke <br/>Person", 1303],
                        ["Übrige", 5801]
                    ]
                 }, {
                    name: "Anzahl Anrufe",
                    id: "2016",
                    colorByPoint: true,
                    data: [
                    	["Medizin. <br/>Auskunft", 6643],
                        ["Trans-<br/>port", 1899],
                        ["Sturz, <br/>Absturz", 1374],
                        ["Bewusst-<br/>losigkeit", 714],
                        ["Verkehr-<br/>sunfall", 444],
                        ["Herzpro-<br/>bleme", 453],
                        ["Atem-<br/>probleme", 491],
                         ["Kranke <br/>Person", 1361],
                        ["Übrige", 4421]
                    ]
                 }, {
                    name: "Anzahl Anrufe",
                    id: "2017",
                    colorByPoint: true,
                    data: [
                    	["Medizin. <br/>Auskunft", 5923],
                        ["Trans-<br/>port", 1873],
                        ["Sturz, <br/>Absturz", 1328],
                        ["Bewusst-<br/>losigkeit", 715],
                        ["Verkehr-<br/>sunfall", 430],
                        ["Herzpro-<br/>bleme", 371],
                        ["Atem-<br/>probleme", 552],
                         ["Kranke <br/>Person", 1387],
                        ["Übrige", 4226]
                    ]
                 }, {
                    name: "Anzahl Anrufe",
                    id: "2018",
                    colorByPoint: true,
                    data: [
                    	["Medizin. <br/>Auskunft", 5947],
                        ["Trans-<br/>port", 1969],
                        ["Sturz, <br/>Absturz", 1469],
                        ["Bewusst-<br/>losigkeit", 724],
                        ["Verkehr-<br/>sunfall", 451],
                        ["Herzpro-<br/>bleme", 318],
                        ["Atem-<br/>probleme", 569],
                         ["Kranke <br/>Person", 1409],
                        ["Übrige", 4997]
                    ]
 		 }, {
                    name: "Anzahl Anrufe",
                    id: "2019",
                    colorByPoint: true,
                    data: [
                    	["Medizin. <br/>Auskunft", 5440],
                        ["Trans-<br/>port", 1985],
                        ["Sturz, <br/>Absturz", 1464],
                        ["Bewusst-<br/>losigkeit", 674],
                        ["Verkehr-<br/>sunfall", 400],
                        ["Herzpro-<br/>bleme", 334],
                        ["Atem-<br/>probleme", 585],
                         ["Kranke <br/>Person", 1521],
                        ["Übrige", 4101]
                    ]
                 }],
                activeDataLabelStyle: {
                	cursor: "pointer",
                	fontWeight: "bold",
                	fontSize: "12px",

            }
        	};
                
           	var tooltip = {
            	overflow: 'auto',
            	useHTML: true,
            	headerFormat: '<span style="font-size:12px; font-weight:bold">{point.key}</span><br/>',
                pointFormat: '<span style="color:{point.color}">\u25CF</span> {series.name}: <b>{point.y}</b><br/>'
    		};

            var legend = {
            	enabled: false,
                layout: 'horizontal',
                align: 'center',
                verticalAlign: 'bottom',
				padding: 25,
    			symbolPadding: 10,
    			symbolWidth: 25,
                margin: -10,
				itemStyle: {
                	fontWeight: 'normal'
            	}
            };
            
            var credits = {
    			text: '<span style="font-size: 10px; font-weight: bold; color: #27408B">Hinweis: Für eine Übersicht über die Art der Notrufe für das jeweilige Jahr klicken Sie<br>auf die entsprechende Jahreszahl.</span> <br>Dienststelle für Statistik Kanton Thurgau <br>Datenquelle: Amt für Gesundheit Kanton Thurgau',
    			href: false,
                style: {
                	color:'#999999',
                    cursor: false,
                    fontSize:'10px'
                },
    			position: {
      				align: 'left',
      				x: 10,
      				y: -45
    			}
  			};
            var exporting = {
            	allowHTML: true,
            	enabled: true,
                filename:'2020_08_Notrufe_2006_2019',
            	buttons: {
                	contextButton: {
                    	menuItems: "printChart separator downloadPNG downloadJPEG downloadSVG".split(" ")
                    }
            	},
                /*csv: {
                    columnHeaderFormatter: function (item) {
                    	if(item instanceof Highcharts.Axis) {
                        	return 'Quartal';
                        } else {
                        	if(item instanceof Highcharts.Series) {
                        		return item.name;
                            }
                        }
                    }
                }*/
            };
            
            var highchartsOptions = Highcharts.setOptions ({
        		lang: {
        			decimalPoint: '.',
           		 	thousandsSep: "'",
           		 	months: ['Januar', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember'],
            		weekdays: ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
            		shortMonths: ['Jan', 'Feb', 'Mrz', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez'],
            		contextButtonTitle: 'Drucken, Download, Export',
            		downloadJPEG: 'Download JPEG Bild',
            		downloadPNG: 'Download PNG Bild',
            		downloadSVG: 'Download SVG Vektor Bild',
            		downloadXLS: 'Download XLS',
            		printChart: 'Bild drucken',
            		viewData: 'Datentabelle ein-/ausblenden',
            		resetZoom: "Zoom zurücksetzen",
            		resetZoomTitle: "Zoom zurücksetzen",
            		drillUpText: "Zurück",
                    numericSymbols: null,
                    decimalPoint: '.',
                	thousandsSep: "'"
        		}        
			});
			
            var colors = ['#27408B','#0064e6','#00B4E8','#3CA433','#a2c510','#FFED00','#E39E00', '#CD3700','#B5B5B5']
            
            var json = {};
            json.chart = chart;
            json.title = title;
            json.subtitle = subtitle;
            json.yAxis = yAxis;
            json.xAxis = xAxis;
            json.tooltip = tooltip;
            json.plotOptions = plotOptions;
            json.series = series;
            json.drilldown = drilldown;
            json.legend = legend;
            json.credits = credits;
            json.exporting = exporting;
            json.highchartsOptions = highchartsOptions;
            json.colors = colors;

            $('#2020_08_Notrufe_2006_2019').highcharts(json);
        });
        
function addThousandsep(nStr) {
                               nStr += '';
                               x = nStr.split('.');
                               x1 = x[0];
                               x2 = x.length > 1 ? '.' + x[1] : '';
                               var rgx = /(\d+)(\d{3})/;
                               while (rgx.test(x1)) {
                x1 = x1.replace(rgx, '$1' + "'" + '$2');
                               }
                               return x1 + x2;
                               }


</script>

