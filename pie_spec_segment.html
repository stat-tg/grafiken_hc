<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://highcharts.github.io/export-csv/export-csv.js"></script>
    <script src="https://code.highcharts.com/modules/data.js"></script>
    <script src="https://blacklabel.github.io/grouped_categories/grouped-categories.js"></script>
    <script src="https://code.highcharts.com/modules/drilldown.js"></script>
    <script src="https://code.highcharts.com/modules/pattern-fill.js"></script>

</head>

<center>
<div id="2023_11_Oekomorphologie_Fliessgewaesser_2022" style="height: 600px; max-width: 800px;"></div>
</center> 
<script>
	$(document).ready(function() {
    	var chart = {
        	type: 'pie'
        };
        var plotOptions = {
        	pie: {
            	dataLabels: {
                	enabled: false
            	},
                showInLegend: true
        	}
    	};
        var title = {
          text: "Mehr als die Hälfte der Bach- und Flussläufe sind in einem guten Zustand",
          style: {
            fontSize: '18px',
          },
          align: 'left'
        };
        var subtitle = {
          text: 'Ökomorphologie der Fliessgewässer <br>Kanton Thurgau, 2022, Anteil Fliessgewässerabschnitte pro Kategorie an der Gesamtlänge, in %',
          style: {
            fontSize: '12px'
          },
          align: 'left'
        };
    	var series = [{
        	innerSize: '40%',
        	colorByPoint: false,
        	data: [{
            	name: "natürlich/naturnah",
            	y: 30.6,
                color:'#0064e6'
        	},{
            	name: "wenig beeinträchtigt",
            	y: 25.6,
                color: '#3CA433'
        	}, {
            	name: "stark beeinträchtigt",
            	y: 12.4,
                color: '#FFED00'
        	}, {
                 	name: "künstlich/naturfremd",
            	y: 4.5,
                color: '#CD3700'
            }, {
            	name: "nicht klassiert",
            	y: 4.1,
                    color:'#878787' 
        	}, {
                      	name: "eingedolt",
            	y: 22.8,
                color: {
                	pattern: {
            		path: 'M 1 1 l 2 1',
            		width: 4,
            		height: 4,
                    color:'#CD3700' 
        		}}
        	}]
    	}];
        


        var tooltip = {
            	overflow: 'auto',
            	useHTML: true,
            	headerFormat: '<span style="font-size:11px; font-weight:normal">{point.key}</span><br/>'
                ,
                pointFormat: '<span style="color:{point.color}">\u25CF</span> <b>{point.y} %</b><br/>'
                
    		};
        
        var legend = {
                layout: 'horizontal',
                align: 'center',
                verticalAlign: 'bottom',
				padding: 25,
                itemDistance: 10,
    			symbolPadding: 10,
    			symbolWidth: 25,
                margin: -10,
				itemStyle: {
                	fontWeight: 'normal'
            	},
		 itemHiddenStyle:{
             	"text-decoration":"none"
                    }

            };
            

        var credits = {
          text: 'Dienststelle für Statistik Kanton Thurgau <br>Datenquelle:  Amt für Umwelt Kanton Thurgau',
          href: false,
          style: {
          	cursor: false,
          	fontSize:'10px'
          },
          position: {
            align: 'left',
            x: 10,
            y: -20
          }
        };
        var exporting = {
          allowHTML: true,
          enabled: true,
          filename:'2023_11_Oekomorphologie_Fliessgewaesser_2022',
          buttons: {
            contextButton: {
              menuItems: "printChart separator downloadPNG downloadJPEG downloadSVG".split(" ")
            }
          },
          /*csv: {
            columnHeaderFormatter: function (item) {
              if(item instanceof Highcharts.Axis) {
                return 'Kategorie';
              } else {
                if(item instanceof Highcharts.Series) {
                  return item.name;
                }
              }
            }
          }*/
        };
        var highchartsOptions = Highcharts.setOptions ({
        	lang: {
        		decimalPoint: '.',
           	 	thousandsSep: "'",
           	 	months: ['Januar', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember'],
            	weekdays: ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
            	shortMonths: ['Jan', 'Feb', 'Mrz', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez'],
            	contextButtonTitle: 'Drucken, Download, Export',
            	downloadJPEG: 'Download JPEG Bild',
            	downloadPNG: 'Download PNG Bild',
            	downloadSVG: 'Download SVG Vektor Bild',
            	downloadXLS: 'Download XLS',
            	printChart: 'Bild drucken',
            	viewData: 'Datentabelle ein-/ausblenden',
            	resetZoom: "Zoom zurücksetzen",
            	resetZoomTitle: "Zoom zurücksetzen",
            	drillUpText: "Zurück"
        	}        
		});
        
        var colors = ['#27408B','#0064e6','#00B4E8','#B5B5B5','#878787','#333333','#E39E00', '#CD3700','#8B0000']


        
        var json = {};
        json.chart = chart;
        json.plotOptions = plotOptions;
        json.title = title;
        json.subtitle = subtitle;
        json.series = series;
        json.tooltip = tooltip;
        json.legend = legend;
        json.credits = credits;
        json.exporting = exporting;
        json.highchartsOptions = highchartsOptions;
        json.colors = colors;
        
        
        $('#2023_11_Oekomorphologie_Fliessgewaesser_2022').highcharts(json);
    });
    


</script>
